"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.loadConfig = loadConfig;
exports.createConfig = createConfig;

var _cosmiconfig = _interopRequireDefault(require("cosmiconfig"));

var _path = require("path");

var _core = require("@graphql-codegen/core");

function generateSearchPlaces(moduleName) {
  const extensions = ['json', 'yaml', 'yml', 'js', 'config.js']; // gives codegen.json...

  const regular = extensions.map(ext => `${moduleName}.${ext}`); // gives .codegenrc.json... but no .codegenrc.config.js

  const dot = extensions.filter(ext => ext !== 'config.js').map(ext => `.${moduleName}rc.${ext}`);
  return regular.concat(dot);
}

function customLoader(ext) {
  function loader(filepath, content) {
    if (typeof process !== 'undefined' && 'env' in process) {
      content = content.replace(/\$\{(.*)\}/g, (_str, variable) => {
        let varName = variable;
        let defaultValue = '';

        if (variable.includes(':')) {
          const spl = variable.split(':');
          varName = spl.shift();
          defaultValue = spl.join(':');
        }

        return process.env[varName] || defaultValue;
      });
    }

    if (ext === 'json') {
      return _cosmiconfig.default.loadJson(filepath, content);
    }

    if (ext === 'yaml') {
      return _cosmiconfig.default.loadYaml(filepath, content);
    }

    if (ext === 'js') {
      return _cosmiconfig.default.loadJs(filepath, content);
    }
  }

  return {
    sync: loader,
    async: loader
  };
}

async function loadConfig(configFilePath) {
  const moduleName = 'codegen';
  const cosmi = (0, _cosmiconfig.default)(moduleName, {
    searchPlaces: generateSearchPlaces(moduleName),
    loaders: {
      '.json': customLoader('json'),
      '.yaml': customLoader('yaml'),
      '.yml': customLoader('yaml'),
      '.js': customLoader('js'),
      noExt: customLoader('yaml')
    }
  });
  const result = await (configFilePath ? cosmi.load(configFilePath) : cosmi.search(process.cwd()));

  if (!result) {
    if (configFilePath) {
      throw new _core.DetailedError(`Config ${configFilePath} does not exist`, `
        Config ${configFilePath} does not exist.
  
          $ graphql-codegen --config ${configFilePath}
  
        Please make sure the --config points to a correct file.
      `);
    }

    throw new _core.DetailedError(`Unable to find Codegen config file!`, `
        Please make sure that you have a configuration file under the current directory! 
      `);
  }

  if (result.isEmpty) {
    throw new _core.DetailedError(`Found Codegen config file but it was empty!`, `
        Please make sure that you have a valid configuration file under the current directory!
      `);
  }

  return {
    filepath: result.filepath,
    config: result.config
  };
}

async function createConfig({
  configPath,
  defaultSchema
}) {
  const customConfigPath = configPath ? (0, _path.resolve)(process.cwd(), configPath) : undefined;
  const configSearchResult = await loadConfig(customConfigPath);
  const parsedConfigFile = configSearchResult.config;
  parsedConfigFile.configFilePath = configSearchResult.filepath;
  parsedConfigFile.defaultSchema = defaultSchema;
  return parsedConfigFile;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb2RlZ2VuL2NvbmZpZy50cyJdLCJuYW1lcyI6WyJnZW5lcmF0ZVNlYXJjaFBsYWNlcyIsIm1vZHVsZU5hbWUiLCJleHRlbnNpb25zIiwicmVndWxhciIsIm1hcCIsImV4dCIsImRvdCIsImZpbHRlciIsImNvbmNhdCIsImN1c3RvbUxvYWRlciIsImxvYWRlciIsImZpbGVwYXRoIiwiY29udGVudCIsInByb2Nlc3MiLCJyZXBsYWNlIiwiX3N0ciIsInZhcmlhYmxlIiwidmFyTmFtZSIsImRlZmF1bHRWYWx1ZSIsImluY2x1ZGVzIiwic3BsIiwic3BsaXQiLCJzaGlmdCIsImpvaW4iLCJlbnYiLCJjb3NtaWNvbmZpZyIsImxvYWRKc29uIiwibG9hZFlhbWwiLCJsb2FkSnMiLCJzeW5jIiwiYXN5bmMiLCJsb2FkQ29uZmlnIiwiY29uZmlnRmlsZVBhdGgiLCJjb3NtaSIsInNlYXJjaFBsYWNlcyIsImxvYWRlcnMiLCJub0V4dCIsInJlc3VsdCIsImxvYWQiLCJzZWFyY2giLCJjd2QiLCJEZXRhaWxlZEVycm9yIiwiaXNFbXB0eSIsImNvbmZpZyIsImNyZWF0ZUNvbmZpZyIsImNvbmZpZ1BhdGgiLCJkZWZhdWx0U2NoZW1hIiwiY3VzdG9tQ29uZmlnUGF0aCIsInVuZGVmaW5lZCIsImNvbmZpZ1NlYXJjaFJlc3VsdCIsInBhcnNlZENvbmZpZ0ZpbGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7O0FBUUEsU0FBU0Esb0JBQVQsQ0FBOEJDLFVBQTlCLEVBQWtEO0FBQ2hELFFBQU1DLFVBQVUsR0FBRyxDQUFDLE1BQUQsRUFBUyxNQUFULEVBQWlCLEtBQWpCLEVBQXdCLElBQXhCLEVBQThCLFdBQTlCLENBQW5CLENBRGdELENBRWhEOztBQUNBLFFBQU1DLE9BQU8sR0FBR0QsVUFBVSxDQUFDRSxHQUFYLENBQWVDLEdBQUcsSUFBSyxHQUFFSixVQUFXLElBQUdJLEdBQUksRUFBM0MsQ0FBaEIsQ0FIZ0QsQ0FJaEQ7O0FBQ0EsUUFBTUMsR0FBRyxHQUFHSixVQUFVLENBQUNLLE1BQVgsQ0FBa0JGLEdBQUcsSUFBSUEsR0FBRyxLQUFLLFdBQWpDLEVBQThDRCxHQUE5QyxDQUFrREMsR0FBRyxJQUFLLElBQUdKLFVBQVcsTUFBS0ksR0FBSSxFQUFqRixDQUFaO0FBRUEsU0FBT0YsT0FBTyxDQUFDSyxNQUFSLENBQWVGLEdBQWYsQ0FBUDtBQUNEOztBQUVELFNBQVNHLFlBQVQsQ0FBc0JKLEdBQXRCLEVBQW1EO0FBQ2pELFdBQVNLLE1BQVQsQ0FBZ0JDLFFBQWhCLEVBQWtDQyxPQUFsQyxFQUFtRDtBQUNqRCxRQUFJLE9BQU9DLE9BQVAsS0FBbUIsV0FBbkIsSUFBa0MsU0FBU0EsT0FBL0MsRUFBd0Q7QUFDdERELE1BQUFBLE9BQU8sR0FBR0EsT0FBTyxDQUFDRSxPQUFSLENBQWdCLGFBQWhCLEVBQStCLENBQUNDLElBQUQsRUFBT0MsUUFBUCxLQUFvQjtBQUMzRCxZQUFJQyxPQUFPLEdBQUdELFFBQWQ7QUFDQSxZQUFJRSxZQUFZLEdBQUcsRUFBbkI7O0FBRUEsWUFBSUYsUUFBUSxDQUFDRyxRQUFULENBQWtCLEdBQWxCLENBQUosRUFBNEI7QUFDMUIsZ0JBQU1DLEdBQUcsR0FBR0osUUFBUSxDQUFDSyxLQUFULENBQWUsR0FBZixDQUFaO0FBQ0FKLFVBQUFBLE9BQU8sR0FBR0csR0FBRyxDQUFDRSxLQUFKLEVBQVY7QUFDQUosVUFBQUEsWUFBWSxHQUFHRSxHQUFHLENBQUNHLElBQUosQ0FBUyxHQUFULENBQWY7QUFDRDs7QUFFRCxlQUFPVixPQUFPLENBQUNXLEdBQVIsQ0FBWVAsT0FBWixLQUF3QkMsWUFBL0I7QUFDRCxPQVhTLENBQVY7QUFZRDs7QUFFRCxRQUFJYixHQUFHLEtBQUssTUFBWixFQUFvQjtBQUNsQixhQUFRb0Isb0JBQUQsQ0FBcUJDLFFBQXJCLENBQThCZixRQUE5QixFQUF3Q0MsT0FBeEMsQ0FBUDtBQUNEOztBQUVELFFBQUlQLEdBQUcsS0FBSyxNQUFaLEVBQW9CO0FBQ2xCLGFBQVFvQixvQkFBRCxDQUFxQkUsUUFBckIsQ0FBOEJoQixRQUE5QixFQUF3Q0MsT0FBeEMsQ0FBUDtBQUNEOztBQUVELFFBQUlQLEdBQUcsS0FBSyxJQUFaLEVBQWtCO0FBQ2hCLGFBQVFvQixvQkFBRCxDQUFxQkcsTUFBckIsQ0FBNEJqQixRQUE1QixFQUFzQ0MsT0FBdEMsQ0FBUDtBQUNEO0FBQ0Y7O0FBRUQsU0FBTztBQUNMaUIsSUFBQUEsSUFBSSxFQUFFbkIsTUFERDtBQUVMb0IsSUFBQUEsS0FBSyxFQUFFcEI7QUFGRixHQUFQO0FBSUQ7O0FBRU0sZUFBZXFCLFVBQWYsQ0FDTEMsY0FESyxFQU9HO0FBQ1IsUUFBTS9CLFVBQVUsR0FBRyxTQUFuQjtBQUNBLFFBQU1nQyxLQUFLLEdBQUcsMEJBQVloQyxVQUFaLEVBQXdCO0FBQ3BDaUMsSUFBQUEsWUFBWSxFQUFFbEMsb0JBQW9CLENBQUNDLFVBQUQsQ0FERTtBQUVwQ2tDLElBQUFBLE9BQU8sRUFBRTtBQUNQLGVBQVMxQixZQUFZLENBQUMsTUFBRCxDQURkO0FBRVAsZUFBU0EsWUFBWSxDQUFDLE1BQUQsQ0FGZDtBQUdQLGNBQVFBLFlBQVksQ0FBQyxNQUFELENBSGI7QUFJUCxhQUFPQSxZQUFZLENBQUMsSUFBRCxDQUpaO0FBS1AyQixNQUFBQSxLQUFLLEVBQUUzQixZQUFZLENBQUMsTUFBRDtBQUxaO0FBRjJCLEdBQXhCLENBQWQ7QUFVQSxRQUFNNEIsTUFBTSxHQUFHLE9BQU9MLGNBQWMsR0FBR0MsS0FBSyxDQUFDSyxJQUFOLENBQVdOLGNBQVgsQ0FBSCxHQUFnQ0MsS0FBSyxDQUFDTSxNQUFOLENBQWExQixPQUFPLENBQUMyQixHQUFSLEVBQWIsQ0FBckQsQ0FBZjs7QUFFQSxNQUFJLENBQUNILE1BQUwsRUFBYTtBQUNYLFFBQUlMLGNBQUosRUFBb0I7QUFDbEIsWUFBTSxJQUFJUyxtQkFBSixDQUNILFVBQVNULGNBQWUsaUJBRHJCLEVBRUg7aUJBQ1FBLGNBQWU7O3VDQUVPQSxjQUFlOzs7T0FMMUMsQ0FBTjtBQVVEOztBQUVELFVBQU0sSUFBSVMsbUJBQUosQ0FDSCxxQ0FERyxFQUVIOztPQUZHLENBQU47QUFNRDs7QUFFRCxNQUFJSixNQUFNLENBQUNLLE9BQVgsRUFBb0I7QUFDbEIsVUFBTSxJQUFJRCxtQkFBSixDQUNILDZDQURHLEVBRUg7O09BRkcsQ0FBTjtBQU1EOztBQUVELFNBQU87QUFDTDlCLElBQUFBLFFBQVEsRUFBRTBCLE1BQU0sQ0FBQzFCLFFBRFo7QUFFTGdDLElBQUFBLE1BQU0sRUFBRU4sTUFBTSxDQUFDTTtBQUZWLEdBQVA7QUFJRDs7QUFPTSxlQUFlQyxZQUFmLENBQTRCO0FBQUVDLEVBQUFBLFVBQUY7QUFBY0MsRUFBQUE7QUFBZCxDQUE1QixFQUF3RztBQUM3RyxRQUFNQyxnQkFBZ0IsR0FBR0YsVUFBVSxHQUFHLG1CQUFRaEMsT0FBTyxDQUFDMkIsR0FBUixFQUFSLEVBQXVCSyxVQUF2QixDQUFILEdBQXdDRyxTQUEzRTtBQUNBLFFBQU1DLGtCQUFrQixHQUFHLE1BQU1sQixVQUFVLENBQUNnQixnQkFBRCxDQUEzQztBQUNBLFFBQU1HLGdCQUFnQixHQUFHRCxrQkFBa0IsQ0FBQ04sTUFBNUM7QUFFQU8sRUFBQUEsZ0JBQWdCLENBQUNsQixjQUFqQixHQUFrQ2lCLGtCQUFrQixDQUFDdEMsUUFBckQ7QUFDQXVDLEVBQUFBLGdCQUFnQixDQUFDSixhQUFqQixHQUFpQ0EsYUFBakM7QUFFQSxTQUFPSSxnQkFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvc21pY29uZmlnIGZyb20gJ2Nvc21pY29uZmlnJztcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IFR5cGVzIH0gZnJvbSAnQGdyYXBocWwtY29kZWdlbi9wbHVnaW4taGVscGVycyc7XG5pbXBvcnQgeyBEZXRhaWxlZEVycm9yIH0gZnJvbSAnQGdyYXBocWwtY29kZWdlbi9jb3JlJztcbmltcG9ydCB7IGlzT3V0cHV0Q29uZmlnQXJyYXkgfSBmcm9tICdAZ3JhcGhxbC1jb2RlZ2VuL3BsdWdpbi1oZWxwZXJzJztcbmltcG9ydCB7IERvY3VtZW50Tm9kZSB9IGZyb20gJ2dyYXBocWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEN1c3RvbUNvbmZpZyBleHRlbmRzIFR5cGVzLkNvbmZpZyB7XG4gIGRlZmF1bHRTY2hlbWE6IERvY3VtZW50Tm9kZTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVTZWFyY2hQbGFjZXMobW9kdWxlTmFtZTogc3RyaW5nKSB7XG4gIGNvbnN0IGV4dGVuc2lvbnMgPSBbJ2pzb24nLCAneWFtbCcsICd5bWwnLCAnanMnLCAnY29uZmlnLmpzJ107XG4gIC8vIGdpdmVzIGNvZGVnZW4uanNvbi4uLlxuICBjb25zdCByZWd1bGFyID0gZXh0ZW5zaW9ucy5tYXAoZXh0ID0+IGAke21vZHVsZU5hbWV9LiR7ZXh0fWApO1xuICAvLyBnaXZlcyAuY29kZWdlbnJjLmpzb24uLi4gYnV0IG5vIC5jb2RlZ2VucmMuY29uZmlnLmpzXG4gIGNvbnN0IGRvdCA9IGV4dGVuc2lvbnMuZmlsdGVyKGV4dCA9PiBleHQgIT09ICdjb25maWcuanMnKS5tYXAoZXh0ID0+IGAuJHttb2R1bGVOYW1lfXJjLiR7ZXh0fWApO1xuXG4gIHJldHVybiByZWd1bGFyLmNvbmNhdChkb3QpO1xufVxuXG5mdW5jdGlvbiBjdXN0b21Mb2FkZXIoZXh0OiAnanNvbicgfCAneWFtbCcgfCAnanMnKSB7XG4gIGZ1bmN0aW9uIGxvYWRlcihmaWxlcGF0aDogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xcJFxceyguKilcXH0vZywgKF9zdHIsIHZhcmlhYmxlKSA9PiB7XG4gICAgICAgIGxldCB2YXJOYW1lID0gdmFyaWFibGU7XG4gICAgICAgIGxldCBkZWZhdWx0VmFsdWUgPSAnJztcblxuICAgICAgICBpZiAodmFyaWFibGUuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgIGNvbnN0IHNwbCA9IHZhcmlhYmxlLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgdmFyTmFtZSA9IHNwbC5zaGlmdCgpO1xuICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IHNwbC5qb2luKCc6Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnZbdmFyTmFtZV0gfHwgZGVmYXVsdFZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGV4dCA9PT0gJ2pzb24nKSB7XG4gICAgICByZXR1cm4gKGNvc21pY29uZmlnIGFzIGFueSkubG9hZEpzb24oZmlsZXBhdGgsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIGlmIChleHQgPT09ICd5YW1sJykge1xuICAgICAgcmV0dXJuIChjb3NtaWNvbmZpZyBhcyBhbnkpLmxvYWRZYW1sKGZpbGVwYXRoLCBjb250ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoZXh0ID09PSAnanMnKSB7XG4gICAgICByZXR1cm4gKGNvc21pY29uZmlnIGFzIGFueSkubG9hZEpzKGZpbGVwYXRoLCBjb250ZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN5bmM6IGxvYWRlcixcbiAgICBhc3luYzogbG9hZGVyLFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZENvbmZpZyhcbiAgY29uZmlnRmlsZVBhdGg/OiBzdHJpbmcsXG4pOlxuICB8IFByb21pc2U8e1xuICAgICAgY29uZmlnOiBUeXBlcy5Db25maWc7XG4gICAgICBmaWxlcGF0aDogc3RyaW5nO1xuICAgIH0+XG4gIHwgbmV2ZXIge1xuICBjb25zdCBtb2R1bGVOYW1lID0gJ2NvZGVnZW4nO1xuICBjb25zdCBjb3NtaSA9IGNvc21pY29uZmlnKG1vZHVsZU5hbWUsIHtcbiAgICBzZWFyY2hQbGFjZXM6IGdlbmVyYXRlU2VhcmNoUGxhY2VzKG1vZHVsZU5hbWUpLFxuICAgIGxvYWRlcnM6IHtcbiAgICAgICcuanNvbic6IGN1c3RvbUxvYWRlcignanNvbicpLFxuICAgICAgJy55YW1sJzogY3VzdG9tTG9hZGVyKCd5YW1sJyksXG4gICAgICAnLnltbCc6IGN1c3RvbUxvYWRlcigneWFtbCcpLFxuICAgICAgJy5qcyc6IGN1c3RvbUxvYWRlcignanMnKSxcbiAgICAgIG5vRXh0OiBjdXN0b21Mb2FkZXIoJ3lhbWwnKSxcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKGNvbmZpZ0ZpbGVQYXRoID8gY29zbWkubG9hZChjb25maWdGaWxlUGF0aCkgOiBjb3NtaS5zZWFyY2gocHJvY2Vzcy5jd2QoKSkpO1xuXG4gIGlmICghcmVzdWx0KSB7XG4gICAgaWYgKGNvbmZpZ0ZpbGVQYXRoKSB7XG4gICAgICB0aHJvdyBuZXcgRGV0YWlsZWRFcnJvcihcbiAgICAgICAgYENvbmZpZyAke2NvbmZpZ0ZpbGVQYXRofSBkb2VzIG5vdCBleGlzdGAsXG4gICAgICAgIGBcbiAgICAgICAgQ29uZmlnICR7Y29uZmlnRmlsZVBhdGh9IGRvZXMgbm90IGV4aXN0LlxuICBcbiAgICAgICAgICAkIGdyYXBocWwtY29kZWdlbiAtLWNvbmZpZyAke2NvbmZpZ0ZpbGVQYXRofVxuICBcbiAgICAgICAgUGxlYXNlIG1ha2Ugc3VyZSB0aGUgLS1jb25maWcgcG9pbnRzIHRvIGEgY29ycmVjdCBmaWxlLlxuICAgICAgYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IERldGFpbGVkRXJyb3IoXG4gICAgICBgVW5hYmxlIHRvIGZpbmQgQ29kZWdlbiBjb25maWcgZmlsZSFgLFxuICAgICAgYFxuICAgICAgICBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgeW91IGhhdmUgYSBjb25maWd1cmF0aW9uIGZpbGUgdW5kZXIgdGhlIGN1cnJlbnQgZGlyZWN0b3J5ISBcbiAgICAgIGAsXG4gICAgKTtcbiAgfVxuXG4gIGlmIChyZXN1bHQuaXNFbXB0eSkge1xuICAgIHRocm93IG5ldyBEZXRhaWxlZEVycm9yKFxuICAgICAgYEZvdW5kIENvZGVnZW4gY29uZmlnIGZpbGUgYnV0IGl0IHdhcyBlbXB0eSFgLFxuICAgICAgYFxuICAgICAgICBQbGVhc2UgbWFrZSBzdXJlIHRoYXQgeW91IGhhdmUgYSB2YWxpZCBjb25maWd1cmF0aW9uIGZpbGUgdW5kZXIgdGhlIGN1cnJlbnQgZGlyZWN0b3J5IVxuICAgICAgYCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmaWxlcGF0aDogcmVzdWx0LmZpbGVwYXRoLFxuICAgIGNvbmZpZzogcmVzdWx0LmNvbmZpZyBhcyBUeXBlcy5Db25maWcsXG4gIH07XG59XG5cbmludGVyZmFjZSBDb25maWdPcHRpb24ge1xuICBkZWZhdWx0U2NoZW1hOiBEb2N1bWVudE5vZGU7XG4gIGNvbmZpZ1BhdGg/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb25maWcoeyBjb25maWdQYXRoLCBkZWZhdWx0U2NoZW1hIH06IENvbmZpZ09wdGlvbik6IFByb21pc2U8Q3VzdG9tQ29uZmlnIHwgbmV2ZXI+IHtcbiAgY29uc3QgY3VzdG9tQ29uZmlnUGF0aCA9IGNvbmZpZ1BhdGggPyByZXNvbHZlKHByb2Nlc3MuY3dkKCksIGNvbmZpZ1BhdGgpIDogdW5kZWZpbmVkO1xuICBjb25zdCBjb25maWdTZWFyY2hSZXN1bHQgPSBhd2FpdCBsb2FkQ29uZmlnKGN1c3RvbUNvbmZpZ1BhdGgpO1xuICBjb25zdCBwYXJzZWRDb25maWdGaWxlID0gY29uZmlnU2VhcmNoUmVzdWx0LmNvbmZpZyBhcyBDdXN0b21Db25maWc7XG5cbiAgcGFyc2VkQ29uZmlnRmlsZS5jb25maWdGaWxlUGF0aCA9IGNvbmZpZ1NlYXJjaFJlc3VsdC5maWxlcGF0aDtcbiAgcGFyc2VkQ29uZmlnRmlsZS5kZWZhdWx0U2NoZW1hID0gZGVmYXVsdFNjaGVtYTtcblxuICByZXR1cm4gcGFyc2VkQ29uZmlnRmlsZTtcbn1cbiJdfQ==