"use strict";

exports.__esModule = true;
exports.debugLog = debugLog;
exports.resetLogs = resetLogs;
exports.printLogs = printLogs;

var _logger = require("./logger");

let queue = [];

function debugLog(message, ...meta) {
  if (!process.env.GQL_CODEGEN_NODEBUG && process.env.DEBUG !== undefined) {
    queue.push({
      message,
      meta
    });
  }
}

function resetLogs() {
  queue = [];
}

function printLogs() {
  if (!process.env.GQL_CODEGEN_NODEBUG && process.env.DEBUG !== undefined) {
    queue.forEach(log => {
      (0, _logger.getLogger)().info(log.message, ...(log.meta ? [...log.meta] : []));
    });
    resetLogs();
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb2RlZ2VuL3V0aWxzL2RlYnVnZ2luZy50cyJdLCJuYW1lcyI6WyJxdWV1ZSIsImRlYnVnTG9nIiwibWVzc2FnZSIsIm1ldGEiLCJwcm9jZXNzIiwiZW52IiwiR1FMX0NPREVHRU5fTk9ERUJVRyIsIkRFQlVHIiwidW5kZWZpbmVkIiwicHVzaCIsInJlc2V0TG9ncyIsInByaW50TG9ncyIsImZvckVhY2giLCJsb2ciLCJpbmZvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUEsSUFBSUEsS0FHRCxHQUFHLEVBSE47O0FBS08sU0FBU0MsUUFBVCxDQUFrQkMsT0FBbEIsRUFBbUMsR0FBR0MsSUFBdEMsRUFBbUQ7QUFDeEQsTUFBSSxDQUFDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsbUJBQWIsSUFBb0NGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxLQUFaLEtBQXNCQyxTQUE5RCxFQUF5RTtBQUN2RVIsSUFBQUEsS0FBSyxDQUFDUyxJQUFOLENBQVc7QUFDVFAsTUFBQUEsT0FEUztBQUVUQyxNQUFBQTtBQUZTLEtBQVg7QUFJRDtBQUNGOztBQUVNLFNBQVNPLFNBQVQsR0FBcUI7QUFDMUJWLEVBQUFBLEtBQUssR0FBRyxFQUFSO0FBQ0Q7O0FBRU0sU0FBU1csU0FBVCxHQUFxQjtBQUMxQixNQUFJLENBQUNQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxtQkFBYixJQUFvQ0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLEtBQVosS0FBc0JDLFNBQTlELEVBQXlFO0FBQ3ZFUixJQUFBQSxLQUFLLENBQUNZLE9BQU4sQ0FBY0MsR0FBRyxJQUFJO0FBQ25CLCtCQUFZQyxJQUFaLENBQWlCRCxHQUFHLENBQUNYLE9BQXJCLEVBQThCLElBQUlXLEdBQUcsQ0FBQ1YsSUFBSixHQUFXLENBQUMsR0FBR1UsR0FBRyxDQUFDVixJQUFSLENBQVgsR0FBMkIsRUFBL0IsQ0FBOUI7QUFDRCxLQUZEO0FBR0FPLElBQUFBLFNBQVM7QUFDVjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuXG5sZXQgcXVldWU6IHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBtZXRhPzogYW55W107XG59W10gPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4ubWV0YTogYW55W10pIHtcbiAgaWYgKCFwcm9jZXNzLmVudi5HUUxfQ09ERUdFTl9OT0RFQlVHICYmIHByb2Nlc3MuZW52LkRFQlVHICE9PSB1bmRlZmluZWQpIHtcbiAgICBxdWV1ZS5wdXNoKHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBtZXRhLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldExvZ3MoKSB7XG4gIHF1ZXVlID0gW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludExvZ3MoKSB7XG4gIGlmICghcHJvY2Vzcy5lbnYuR1FMX0NPREVHRU5fTk9ERUJVRyAmJiBwcm9jZXNzLmVudi5ERUJVRyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcXVldWUuZm9yRWFjaChsb2cgPT4ge1xuICAgICAgZ2V0TG9nZ2VyKCkuaW5mbyhsb2cubWVzc2FnZSwgLi4uKGxvZy5tZXRhID8gWy4uLmxvZy5tZXRhXSA6IFtdKSk7XG4gICAgfSk7XG4gICAgcmVzZXRMb2dzKCk7XG4gIH1cbn1cbiJdfQ==